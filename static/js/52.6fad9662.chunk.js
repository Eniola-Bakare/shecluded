(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{268:function(e,a,t){"use strict";t.r(a);var s=t(22),n=t(8),r=t(9),l=t(0),o=t.n(l),c=t(85),i=t(86),m=t(1),d=t(13),u=t.n(d),p=t(11),g=t(23),E=t(87),f=t(154),b=t(120);a.default=function(e){var a=e.history,t=Object(l.useState)({passwordsType:"password",email:"",password:"",loggingIn:!1,loginErrorMessage:""}),d=Object(r.a)(t,2),h=d[0],w=d[1],v=function(e){var a;w(Object(n.a)({},h,(a={},Object(s.a)(a,e.target.name,e.target.value),Object(s.a)(a,"loginErrorMessage",""),a)))};Object(l.useEffect)(function(){sessionStorage.getItem("userData")?a.push("/dashboard"):sessionStorage.clear()},[]);var N=h.passwordsType,j=h.email,y=h.password,O=h.loggingIn,x=h.loginErrorMessage;return O?o.a.createElement(g.a,null):o.a.createElement("div",null,o.a.createElement(i.a,null),x.length?o.a.createElement(E.a,{message:x}):null,o.a.createElement("div",{className:"container main-container no-header",style:{marginTop:"60px"}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 section small-vertical-padding"},o.a.createElement("h3",{className:"text-center title"},"Sign In to Your Account"),o.a.createElement("h6",{className:"text-center"},"To request for loans or become a lender"),o.a.createElement("p",{className:"text-center"},"Don't have an account?"," ",o.a.createElement(m.b,{to:"/register",className:"text-shecluded font-weight-bold"},"Register")))),o.a.createElement("div",{className:"row justify-content-center auth-row"},o.a.createElement("div",{className:"col-12 col-md-4 small-vertical-padding"},x.length?o.a.createElement("div",{className:"alert alert-danger alert-dismissible"},x):null,o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),w(Object(n.a)({},h,{loggingIn:!0}));var t={deviceId:"",email:h.email,password:h.password,shecludedId:""};u()({url:"".concat(p.j),method:"post",headers:{"Content-Type":"application/json"},timeout:p.p,data:t}).then(function(e){if("Successful"===e.data.respCode){sessionStorage.setItem("userData",JSON.stringify(e.data.respBody));var t=b.b.API_KEY,s=e.data.respBody.shecludedId,r=h.email.split("@")[0],l=new f.CometChat.User(s);l.setName(r),f.CometChat.createUser(l,t).then(function(e){console.log("user created")},function(e){console.log("error",e)}),f.CometChat.login(s,t).then(function(e){console.log("Login Successful:")},function(e){console.log("Login failed with exception:",{error:e})}),a.push("/dashboard")}else w(Object(n.a)({},h,{loggingIn:!1,loginErrorMessage:e.data.respDescription}))}).catch(function(e){w(Object(n.a)({},h,{loggingIn:!1})),e.response?400===e.response.status||401===e.response.status?w(Object(n.a)({},h,{loginErrorMessage:"Invalid Credentials"})):w(Object(n.a)({},h,{loginErrorMessage:e})):w(Object(n.a)({},h,{loginErrorMessage:"Network Error"}))})}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-12 col-md-12"},o.a.createElement("input",{className:"form-control text-input",type:"email",value:j,onChange:v,name:"email",placeholder:"Email Address",required:!0}),o.a.createElement("span",{className:"input-label"},"Email Address"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{className:"form-control text-input",value:y,onChange:v,placeholder:"Password",type:N,name:"password",required:!0}),o.a.createElement("span",{className:"input-label"},"Password"),o.a.createElement("div",{className:"input-group-append show-password",onClick:function(){"password"===h.passwordsType?w(Object(n.a)({},h,{passwordsType:"text"})):w(Object(n.a)({},h,{passwordsType:"password"}))}},o.a.createElement("div",{className:"input-group-text"},o.a.createElement("i",{className:"fa fa-eye"}))))),o.a.createElement("div",{className:"form-group row justify-content-between"},o.a.createElement("div",{className:"form-group col-6 col-md-8 text-body"},o.a.createElement("input",{type:"checkbox",className:""}),o.a.createElement("label",{className:"form-check-label",style:{paddingLeft:"10px"}},"Remember Me?")),o.a.createElement("div",{className:"form-group col-6 col-md-4"},o.a.createElement(m.b,{to:"/forgot-password",className:"helper-text text-shecluded"},"Forgot Password?"))),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{type:"submit",className:"btn btn-shecluded btn-lg"},"Login")))))),o.a.createElement(c.a,null))}},87:function(e,a,t){"use strict";var s=t(8),n=t(9),r=t(0),l=t.n(r);a.a=function(e){var a=e.message,t=Object(r.useState)({show:!0}),o=Object(n.a)(t,2),c=o[0],i=o[1];Object(r.useEffect)(function(){var e=setTimeout(function(){i(Object(s.a)({},c,{show:!1}))},3e3);return function(){clearTimeout(e)}},[]);return l.a.createElement(r.Fragment,null,c.show?l.a.createElement("div",{className:"main-alert d-flex justify-content-center"},l.a.createElement("div",{className:"alert alert-danger alert-dismissible text-center font-md",role:"alert"},l.a.createElement("strong",null)," ",a,l.a.createElement("button",{type:"button",className:"close",onClick:function(){i(Object(s.a)({},c,{show:!1}))},"aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7")))):null)}}}]);
//# sourceMappingURL=52.6fad9662.chunk.js.map