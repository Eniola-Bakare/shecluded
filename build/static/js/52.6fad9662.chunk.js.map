{"version":3,"sources":["components/auth/login.js","components/shared/alert.js"],"names":["LoginPage","_ref","history","_useState","useState","passwordsType","email","password","loggingIn","loginErrorMessage","_useState2","Object","_home_eebakare_gitclone_shecluded_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","state","setState","handleInputChange","event","_objectSpread2","_home_eebakare_gitclone_shecluded_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_home_eebakare_gitclone_shecluded_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","target","name","value","useEffect","sessionStorage","getItem","push","clear","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","_shared_preloader__WEBPACK_IMPORTED_MODULE_9__","_shared_navbar__WEBPACK_IMPORTED_MODULE_5__","length","_shared_alert__WEBPACK_IMPORTED_MODULE_10__","message","className","style","marginTop","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","onSubmit","preventDefault","reqBody","deviceId","shecludedId","axios","url","concat","loginUrl","method","headers","Content-Type","timeout","timeOut","data","then","result","respCode","setItem","JSON","stringify","respBody","apiKey","COMETCHAT_CONSTANTS","API_KEY","uid","split","user","CometChat","User","setName","createUser","console","log","error","login","respDescription","catch","err","response","status","type","onChange","placeholder","required","onClick","paddingLeft","_shared_footer__WEBPACK_IMPORTED_MODULE_4__","Alert","show","_home_eebakare_gitclone_shecluded_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","hideAlert","setTimeout","_home_eebakare_gitclone_shecluded_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","clearTimeout","react__WEBPACK_IMPORTED_MODULE_2___default","react__WEBPACK_IMPORTED_MODULE_2__","role","aria-label","aria-hidden"],"mappings":"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","file":"static/js/52.6fad9662.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Footer from \"../shared/footer\";\nimport NavBar from \"../shared/navbar\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { timeOut, loginUrl } from \"../../api/rootUrls\";\nimport Preloader from \"../shared/preloader\";\nimport Alert from \"../shared/alert\";\nimport { CometChat } from \"@cometchat-pro/chat\";\nimport { COMETCHAT_CONSTANTS } from \"../../consts\";\n\nconst LoginPage = ({ history }) => {\n  const [state, setState] = useState({\n    passwordsType: \"password\",\n    email: \"\",\n    password: \"\",\n    loggingIn: false,\n    loginErrorMessage: \"\",\n  });\n\n  const handleInputChange = (event) => {\n    setState({\n      ...state,\n      [event.target.name]: event.target.value,\n      loginErrorMessage: \"\",\n    });\n  };\n\n  useEffect(() => {\n    if (sessionStorage.getItem(\"userData\")) {\n      history.push(\"/dashboard\");\n    } else {\n      sessionStorage.clear();\n    }\n  }, []);\n\n  const togglePasswordVisibility = () => {\n    if (state.passwordsType === \"password\") {\n      setState({ ...state, passwordsType: \"text\" });\n    } else {\n      setState({ ...state, passwordsType: \"password\" });\n    }\n  };\n\n  const login = (event) => {\n    event.preventDefault();\n    setState({\n      ...state,\n      loggingIn: true,\n    });\n    const { email, password } = state;\n    let reqBody = {\n      deviceId: \"\",\n      email,\n      password,\n      shecludedId: \"\",\n    };\n    axios({\n      url: `${loginUrl}`,\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      timeout: timeOut,\n      data: reqBody,\n    })\n      .then((result) => {\n        if (result.data.respCode === \"Successful\") {\n          sessionStorage.setItem(\n            \"userData\",\n            JSON.stringify(result.data.respBody)\n          );\n          let apiKey = COMETCHAT_CONSTANTS.API_KEY;\n          let uid = result.data.respBody.shecludedId;\n          let name = state.email.split(\"@\")[0];\n\n          let user = new CometChat.User(uid);\n\n          user.setName(name);\n\n          CometChat.createUser(user, apiKey).then(\n            (user) => {\n              console.log(\"user created\");\n            },\n            (error) => {\n              console.log(\"error\", error);\n            }\n          );\n          CometChat.login(uid, apiKey).then(\n            (User) => {\n              console.log(\"Login Successful:\");\n              // User loged in successfully.\n            },\n            (error) => {\n              console.log(\"Login failed with exception:\", { error });\n              // User login failed, check error and take appropriate action.\n            }\n          );\n          history.push(\"/dashboard\");\n        } else {\n          setState({\n            ...state,\n            loggingIn: false,\n            loginErrorMessage: result.data.respDescription,\n          });\n        }\n      })\n      .catch((err) => {\n        setState({\n          ...state,\n          loggingIn: false,\n        });\n        if (!err.response) {\n          setState({\n            ...state,\n            loginErrorMessage: \"Network Error\",\n          });\n        } else {\n          if (err.response.status === 400 || err.response.status === 401) {\n            setState({\n              ...state,\n              loginErrorMessage: \"Invalid Credentials\",\n            });\n          } else {\n            setState({\n              ...state,\n              loginErrorMessage: err,\n            });\n          }\n        }\n      });\n  };\n\n  const {\n    passwordsType,\n    email,\n    password,\n    loggingIn,\n    loginErrorMessage,\n  } = state;\n  if (loggingIn) {\n    return <Preloader />;\n  }\n  return (\n    <div>\n      <NavBar />\n      {loginErrorMessage.length ? <Alert message={loginErrorMessage} /> : null}\n      <div className=\"container main-container no-header\" style={{marginTop: \"60px\"}}> \n        <div className=\"row\">\n          <div className=\"col-12 section small-vertical-padding\">\n            <h3 className=\"text-center title\">Sign In to Your Account</h3>\n            <h6 className=\"text-center\">\n              To request for loans or become a lender\n            </h6>\n            <p className=\"text-center\">\n              Don't have an account?{\" \"}\n              <Link to=\"/register\" className=\"text-shecluded font-weight-bold\">\n                Register\n              </Link>\n            </p>\n          </div>\n        </div>\n\n        <div className=\"row justify-content-center auth-row\">\n          <div className=\"col-12 col-md-4 small-vertical-padding\">\n            {loginErrorMessage.length ? (\n              <div className=\"alert alert-danger alert-dismissible\">\n                {loginErrorMessage}\n              </div>\n            ) : null}\n            <form onSubmit={login}>\n              <div className=\"row\">\n                <div className=\"form-group col-12 col-md-12\">\n                  {/* <label className=\"text-body\" htmlFor=\"email\">Email Address</label> */}\n                  <input\n                    className=\"form-control text-input\"\n                    type=\"email\"\n                    value={email}\n                    onChange={handleInputChange}\n                    name=\"email\"\n                    placeholder=\"Email Address\"\n                    required\n                  />\n                  <span className=\"input-label\">Email Address</span>\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                {/* <label className=\"text-body\" htmlFor=\"email\">Password</label> */}\n                <div className=\"input-group\">\n                  <input\n                    className=\"form-control text-input\"\n                    value={password}\n                    onChange={handleInputChange}\n                    placeholder=\"Password\"\n                    type={passwordsType}\n                    name=\"password\"\n                    required\n                  />\n                  <span className=\"input-label\">Password</span>\n                  <div\n                    className=\"input-group-append show-password\"\n                    onClick={togglePasswordVisibility}\n                  >\n                    <div className=\"input-group-text\">\n                      <i className=\"fa fa-eye\"></i>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group row justify-content-between\">\n                <div className=\"form-group col-6 col-md-8 text-body\">\n                  <input type=\"checkbox\" className=\"\" />\n                  <label\n                    className=\"form-check-label\"\n                    style={{ paddingLeft: \"10px\" }}\n                  >\n                    Remember Me?\n                  </label>\n                </div>\n                <div className=\"form-group col-6 col-md-4\">\n                  <Link\n                    to=\"/forgot-password\"\n                    className=\"helper-text text-shecluded\"\n                  >\n                    Forgot Password?\n                  </Link>\n                </div>\n              </div>\n              <div className=\"text-center\">\n                <button type=\"submit\" className=\"btn btn-shecluded btn-lg\">\n                  Login\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n};\nexport default LoginPage;\n","import React, { useEffect, useState, Fragment } from 'react';\n\nconst Alert = ({ message }) => {\n\tconst [state, setState] = useState({\n\t\tshow: true\n\t})\n\n\tuseEffect(() => {\n\t\tconst hideAlert = setTimeout(() => {\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\tshow: false\n\t\t\t})\n\t\t}, 3000)\n\n\t\treturn(() => {\n\t\t\tclearTimeout(hideAlert)\n\t\t})\n\t}, [])\n\n\tconst close = () => {\n\t\tsetState({\n\t\t\t...state,\n\t\t\tshow: false\n\t\t})\n\t}\n\treturn(\n\t\t<Fragment>\n\t\t{\n\t\t\tstate.show ? \n\t\t\t<div className=\"main-alert d-flex justify-content-center\">\n\t\t\t\t<div className={\"alert alert-danger alert-dismissible text-center font-md\"} role=\"alert\">\n\t\t\t\t\t<strong></strong> {message}\n\t\t\t\t\t<button type=\"button\" className=\"close\" onClick={close} aria-label=\"Close\">\n\t\t\t\t\t\t<span aria-hidden=\"true\">&times;</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t: null\n\t\t}\n\t\t</Fragment>\n\t)\n}\nexport default Alert;"],"sourceRoot":""}